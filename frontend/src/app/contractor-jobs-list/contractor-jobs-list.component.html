<app-in-app-nav>
<div class="blurSelector">
	<div id="jobs_list_container" class="text text_2">
		<h2>Jobs List</h2>
		
		<div class="table_tablet_and_higher">
			<table>
				<div>
					<tr id="header">
						<td><p>NAME<i class="fas fa-arrows-alt-v"></i></p></td>
						<td><p>LOCATION<i class="fas fa-search"></i></p></td>
						<td><p>DATE</p></td>
						<td><p>JOB TYPE<i class="fas fa-search"></i></p></td>
						<td><p>STATUS</p></td>
						<td><p>LATEST QUOTES</p></td>
					</tr>
				</div>
				
				<!-- BIG SCREENS -->
				<tr *ngFor="let job of jobsList; let count = index" id="{{count}}" (mouseover)="changeColourRow(count)" (mouseout)="changeColourRowBack(count)">
					<td style="align-items:flex-start" class="name">
						<app-avatar-icon size="20"></app-avatar-icon>
						{{job.Name}}
					</td>
					<td>{{job.Location}}</td>
					<td>{{job.Date}}</td>
					<td>{{job.Job_Type}}</td>
					<td>
						<!-- <button [ngClass]="job.Completed ? 'completed' : job.Quoted ? 'incompleteQuoted' :'incompleteUnquoted'" class="btn btn-raised" >
							<p *ngIf="job.Completed">Completed</p>
							<p *ngIf="!job.Completed && job.Quoted">Quoted</p>
							<p *ngIf="!job.Completed && !job.Quoted">Quote</p>
						</button> --> 
						
						<button button [ngClass]="job.Completed ? 'completed' : job.Quoted ? 'incompleteQuoted' :'incompleteUnquoted'" class="btn btn-raised" *ngIf="job.Completed" (click)="openSmallModal()"> Completed</button>
						<button button [ngClass]="job.Completed ? 'completed' : job.Quoted ? 'incompleteQuoted' :'incompleteUnquoted'" class="btn btn-raised" *ngIf="!job.Completed && job.Quoted"> Quoted</button>
						<button button [ngClass]="job.Completed ? 'completed' : job.Quoted ? 'incompleteQuoted' :'incompleteUnquoted'" class="btn btn-raised" *ngIf="!job.Completed && !job.Quoted" (click)="openModal()"> QUOTE</button>
					</td>
					<td>£{{job.Latest_Quote}}
						<p id="p{{count}}" style="display: none; float: right; margin: 0"><i class="fas fa-ellipsis-v"></i></p>
					</td>
				</tr>
			</table>
		</div>
		
		<!-- TINY SCREENS -->
		<div id="table_tablet_and_smaller">
			<table>
				<div class="table_rows_small_screens">
					<tr>
						<td><p>NAME<i class="fas fa-arrows-alt-v"></i></p></td>
						<td><p>LOCATION<i class="fas fa-search"></i></p></td>
						<td><p>DATE</p></td>
					</tr>
					<tr>
						<td><p>JOB TYPE<i class="fas fa-search"></i></p></td>
						<td><p>STATUS</p></td>
						<td><p>LATEST QUOTES</p></td>
					</tr>
				</div>
				<div *ngFor="let job of jobsList; let count = index" id="{{count}}" (mouseover)="changeColourRow(count)" (mouseout)="changeColourRowBack(count)" class="table_rows_small_screens">
					<tr>
						<td class="name">
							<app-avatar-icon size="20"></app-avatar-icon>
							<span class="mainName">{{job.Name}}</span>
						</td>
						<td class="locationy">{{job.Location}}</td>
						<td>{{job.Date}}</td>
					</tr>
					<tr>
						<td>{{job.Job_Type}}</td>
						<td>
							<button [ngClass]="job.Completed ? 'completed' : job.Quoted ? 'incompleteQuoted' :'incompleteUnquoted'" class="btn btn-raised">
								<p *ngIf="job.Completed" (click)="openSmallModal()">Completed</p>
								<p *ngIf="!job.Completed && job.Quoted">Quoted</p>
								<p *ngIf="!job.Completed && !job.Quoted" (click)="openModal()">Quote</p>
							</button>
							
							<!-- <button *ngIf="something for first button "> Completed</button>
								<button *ngIf="something for second button "> Quoted</button>
								<button *ngIf="something for third button " (click)="toggleModal()"> Quote</button> -->
							</td>
							<td>£{{job.Latest_Quote}}
								
							</td>
							
						</tr>
						<tr  >
							<td></td>
							<!-- <td  ></td> -->
							<td>
								<p id="pp{{count}}" style="display: none; padding-left: 40px; margin: 0">
									<i class="fas fa-ellipsis-v"></i>
								</p>
							</td>
							<td></td>
						</tr>
						
					</div>
				</table>
			</div>
		</div>
	</div>
	<app-modal>
	</app-modal>

	<app-modal-small></app-modal-small>

</app-in-app-nav>

